<script setup lang="ts">
// ğŸ‰ æ— éœ€æ‰‹åŠ¨å¯¼å…¥ ref, computed, watch ç­‰ Vue API
const count = ref(0)
const doubled = computed(() => count.value * 2)

// ğŸ‰ æ— éœ€æ‰‹åŠ¨å¯¼å…¥ Pinia çš„ defineStore
const useCounterStore = defineStore('counter', {
  state: () => ({ count: 0 }),
  actions: {
    increment() {
      this.count++
    },
  },
})

const store = useCounterStore()

// ğŸ‰ ç”Ÿå‘½å‘¨æœŸé’©å­ä¹Ÿæ— éœ€å¯¼å…¥
onMounted(() => {
  console.log('ç»„ä»¶å·²æŒ‚è½½')
})

watch(count, (newValue) => {
  console.log('count å˜åŒ–:', newValue)
})
</script>

<template>
  <div>
    <h2>è‡ªåŠ¨å¯¼å…¥ç¤ºä¾‹</h2>
    <p>Count: {{ count }}</p>
    <p>Doubled: {{ doubled }}</p>
    <p>Store Count: {{ store.count }}</p>
    <button @click="count++">æœ¬åœ°è®¡æ•° +1</button>
    <button @click="store.increment()">Store è®¡æ•° +1</button>
  </div>
</template>
